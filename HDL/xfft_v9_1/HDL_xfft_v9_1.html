<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Fast Fourier Transform 9.1</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
  </style>
  <link rel="stylesheet" href="/proj/xhdhdstaff5/sdegala/Head1/HEAD/VMCHELP20242/xmc-matlab.css" />
</head>
<body>
<header id="title-block-header">
<h1 class="title">Fast Fourier Transform 9.1</h1>
</header>
<section id="fast-fourier-transform-91" class="level1">
<h1>Fast Fourier Transform 9.1</h1>
<p>The Xilinx Fast Fourier Transform block implements the Cooley-Tukey FFT algorithm, a computationally efficient method for calculating the Discrete Fourier Transform (DFT). In addition, the block provides an AXI4-Stream-compliant interface.</p>
<p><img src="./Images/block.png" /></p>
<p>The FFT computes an N-point forward DFT or inverse DFT (IDFT) where, N = 2^(m), m = 3 - 16. For fixed-point inputs, the input data is a vector of N complex values represented as dual b_(x)-bit twoâ€™s complement numbers, that is, b^(x) bits for each of the real and imaginary components of the data sample, where b_(x) is in the range 8 to 34 bit, inclusive. Similarly, the phase factors b_(w) can be 8 to 34 bits wide.</p>
<p>For single-precision floating-point inputs, the input data is a vector of N complex values represented as dual 32-bit floating-point numbers with the phase factors represented as 24- or 25-bit fixed-point numbers.</p>
<section id="theory-of-operation" class="level2">
<h2>Theory of Operation</h2>
<p>The FFT is a computationally efficient algorithm for computing a Discrete Fourier Transform (DFT) of sample sizes that are a positive integer power of 2. The DFT of a sequence is defined as:</p>
<p><img src="./Images/bsq1538085398069.png" /></p>
<p>where N is the transform length and j is the square root of -1. The inverse DFT (IDFT) is defined as:</p>
<p><img src="./Images/xhd1538085399015.png" /></p>
</section>
<section id="axi-ports-that-are-unique-to-this-block" class="level2">
<h2>AXI Ports that are Unique to this Block</h2>
<p>This System Generator block exposes the AXI CONFIG channel as a group of separate ports based on sub-field names. The sub-field ports are described as follows:</p>
<p>Configuration Channel Input Signals:</p>
<table>
<tbody>
<tr class="odd">
<td>config_tdata_scale_sch</td>
<td>A sub-field port that represents the Scaling Schedule field in the Configuration Channel vector. Refer to the document Fast Fourier Transform LogiCORE IP Product Guide (<a href="https://docs.xilinx.com/access/sources/framemaker/map?isLatest=true&amp;ft:locale=en-US&amp;url=pg109-xfft">PG109</a>) for an explanation of the bits in this field.</td>
</tr>
<tr class="even">
<td>config_tdata_fwd_inv</td>
<td>A sub-field port that represents the Forward Inverse field in the Configuration Channel vector. Refer to the document Fast Fourier Transform LogiCORE IP Product Guide (<a href="https://docs.xilinx.com/access/sources/framemaker/map?isLatest=true&amp;ft:locale=en-US&amp;url=pg109-xfft">PG109</a>) for an explanation of the bits in this field.</td>
</tr>
<tr class="odd">
<td>config_tdata_nfft</td>
<td>A sub-field port that represents the Transform Size (NFFT) field in the Configuration Channel vector. Refer to the document Fast Fourier Transform LogiCORE IP Product Guide (<a href="https://docs.xilinx.com/access/sources/framemaker/map?isLatest=true&amp;ft:locale=en-US&amp;url=pg109-xfft">PG109</a>) for an explanation of the bits in this field.</td>
</tr>
<tr class="even">
<td>config_tdata_cp_len</td>
<td>A sub-field port that represents the Cyclic Prefix Length (CP_LEN) field in the Configuration Channel vector. Refer to the document Fast Fourier Transform LogiCORE IP Product Guide (<a href="https://docs.xilinx.com/access/sources/framemaker/map?isLatest=true&amp;ft:locale=en-US&amp;url=pg109-xfft">PG109</a>) for an explanation of the bits in this field.</td>
</tr>
</tbody>
</table>
<p>This HDL block exposes the AXI DATA channel as separate ports based on the real and imaginary sub-field names. The sub-field ports are described as follows:</p>
<p>DATA Channel Input Signals:</p>
<table>
<tbody>
<tr class="odd">
<td>data_tdata_xn_im</td>
<td>Represents the imaginary component of the Data Channel. The signal driving xn_im can be a signed data type of width S with binary point at S-1, where S is a value between 8 and 34, inclusive. eg: Fix_8_7, Fix_34_33. Both xn_re and xn_im signals must have the same data type. Refer to the document Fast Fourier Transform LogiCORE IP Product Guide (<a href="https://docs.xilinx.com/access/sources/framemaker/map?isLatest=true&amp;ft:locale=en-US&amp;url=pg109-xfft">PG109</a>) for an explanation of the bits in this field.</td>
</tr>
<tr class="even">
<td>data_tdata_xn_re</td>
<td>Represents the real component of the Data Channel. The signal driving xn_re can be a signed data type of width S with binary point at S-1, where S is a value between 8 and 34, inclusive. eg: Fix_8_7, Fix_34_33. Both xn_re and xn_im signals must have the same data type. Refer to the document Fast Fourier Transform LogiCORE IP Product Guide (<a href="https://docs.xilinx.com/access/sources/framemaker/map?isLatest=true&amp;ft:locale=en-US&amp;url=pg109-xfft">PG109</a>) for an explanation of the bits in this field.</td>
</tr>
</tbody>
</table>
</section>
<section id="parameters" class="level2">
<h2>Parameters</h2>
<section id="basic-tab" class="level3">
<h3>Basic tab</h3>
<p>Parameters specific to the Basic tab are as follows.</p>
<section id="transform-length" class="level4">
<h4>Transform Length</h4>
<section id="transform_length" class="level5">
<h5>Transform_length</h5>
<p>One of N = 2^((3..16)) = 8 - 65536.</p>
</section>
</section>
<section id="architecture-configuration" class="level4">
<h4>Architecture Configuration</h4>
<section id="target-clock-frequencymhz" class="level5">
<h5>Target Clock Frequency(MHz)</h5>
<p>Enter the target clock frequency.</p>
</section>
<section id="target-data-throughputmsps" class="level5">
<h5>Target Data Throughput(MSPS)</h5>
<p>Enter the target throughput.</p>
</section>
<section id="architecture-choice" class="level5">
<h5>Architecture Choice</h5>
<p>Choose one of the following.</p>
<ul>
<li>automatically_select</li>
<li>pipelined_streaming_io</li>
<li>radix_4_burst_io</li>
<li>radix_2_burst_io</li>
<li>radix_2_lite_burst_io</li>
</ul>
</section>
</section>
<section id="transform-length-options" class="level4">
<h4>Transform Length Options</h4>
<p>Run Time Configurable Transform Length<br />
The transform length can be set through the nfft port if this option is selected. Valid settings and the corresponding transform sizes are provided in the section titled Transform Size in the associated document Fast Fourier Transform LogiCORE IP Product Guide (<a href="https://www.xilinx.com/cgi-bin/docs/ipdoc?c=xfft;v=latest;d=pg109-xfft.pdf">PG109</a>).</p>
</section>
</section>
<section id="advanced-tab" class="level3">
<h3>Advanced tab</h3>
<p>Parameters specific to the Advanced tab are as follows.</p>
<section id="super-sample-ratessr" class="level4">
<h4>Super Sample Rate(SSR)</h4>
<p>This parameter specifies the number of parallel input and output ports. For an SSR value of 'n' (which must be of the form 2^N, where N is a positive integer).</p>
</section>
<section id="precision-options" class="level4">
<h4>Precision Options</h4>
<section id="phase-factor-width" class="level5">
<h5>Phase Factor Width</h5>
<p>Choose a value between 8 and 34, inclusive to be used as bit widths for phase factors.</p>
</section>
</section>
<section id="scaling-options" class="level4">
<h4>Scaling Options</h4>
<p>Select between Unscaled, Scaled, and Block Floating Point output data types.</p>
<section id="rounding-modes" class="level5">
<h5>Rounding Modes</h5>
<section id="truncation" class="level6">
<h6>Truncation</h6>
<p>To be applied at the output of each rank.</p>
</section>
</section>
<section id="convergent-rounding" class="level5">
<h5>Convergent Rounding</h5>
<p>To be applied at the output of each rank.</p>
</section>
</section>
<section id="control-signals" class="level4">
<h4>Control Signals</h4>
<section id="aclken" class="level5">
<h5>ACLKEN</h5>
<p>Enables the clock enable (aclken) pin on the core. All registers in the core are enabled by this control signal.</p>
</section>
<section id="aresetn" class="level5">
<h5>ARESETn</h5>
<p>Active-low synchronous clear input that always takes priority over ACLKEN. A minimum ARESETn active pulse of two cycles is required, since the signal is internally registered for performance. A pulse of one cycle resets the core, but the response to the pulse is not in the cycle immediately following.</p>
</section>
</section>
<section id="output-ordering" class="level4">
<h4>Output Ordering</h4>
<section id="cyclic-prefix-insertion" class="level5">
<h5>Cyclic Prefix Insertion</h5>
<p>Cyclic prefix insertion takes a section of the output of the FFT and prefixes it to the beginning of the transform. The resultant output data consists of the cyclic prefix (a copy of the end of the output data) followed by the complete output data, all in natural order. Cyclic prefix insertion is only available when output ordering is Natural Order.</p>
<p>When cyclic prefix insertion is used, the length of the cyclic prefix can be set frame-by-frame without interrupting frame processing. The cyclic prefix length can be any number of samples from zero to one less than the point size. The cyclic prefix length is set by the CP_LEN field in the Configuration channel. For example, when N = 1024, the cyclic prefix length can be from 0 to 1023 samples, and a CP_LEN value of 0010010110 produces a cyclic prefix consisting of the last 150 samples of the output data.</p>
</section>
<section id="output-ordering-1" class="level5">
<h5>Output ordering</h5>
<p>Choose between Bit/Digit Reversed Order or Natural Order output.</p>
</section>
</section>
<section id="throttle-schemes" class="level4">
<h4>Throttle Schemes</h4>
<p>Select the tradeoff between performance and data timing requirements.</p>
<section id="real-time" class="level5">
<h5>Real Time</h5>
<p>This mode typically gives a smaller and faster design, but has strict constraints on when data must be provided and consumed.</p>
</section>
<section id="non-real-time" class="level5">
<h5>Non Real Time</h5>
<p>This mode has no such constraints, but the design might be larger and slower.</p>
</section>
</section>
<section id="optional-output-fields" class="level4">
<h4>Optional Output Fields</h4>
<section id="xk_index" class="level5">
<h5>XK_INDEX</h5>
<p>The XK_INDEX field (if present in the Data Output channel) gives the sample number of the XK_RE/XK_IM data being presented at the same time. In the case of natural order outputs, XK_INDEX increments from 0 to (point size) -1. When bit reversed outputs are used, XK_INDEX covers the same range of numbers, but in a bit (or digit) reversed manner.</p>
</section>
<section id="ovflo" class="level5">
<h5>OVFLO</h5>
<p>The Overflow (OVFLO) field in the Data Output and Status channels is only available when the Scaled arithmetic is used. OVFLO is driven High during unloading if any point in the data frame overflowed.</p>
<p>For a multichannel core, there is a separate OVFLO field for each channel. When an overflow occurs in the core, the data is wrapped rather than saturated, resulting in the transformed data becoming unusable for most applications</p>
</section>
</section>
<section id="block-icon-display" class="level4">
<h4>Block Icon Display</h4>
<section id="display-shortened-port-names" class="level5">
<h5>Display shortened port names</h5>
<p>On by default. When unchecked, data_tvalid, for example, becomes m_axis_data_tvalid.</p>
</section>
</section>
</section>
<section id="implementation-tab" class="level3">
<h3>Implementation tab</h3>
<p>Parameters specific to the Implementation tab are as follows.</p>
<section id="memory-options" class="level4">
<h4>Memory Options</h4>
<section id="data" class="level5">
<h5>Data</h5>
<p>Option to choose between Block RAM and Distributed RAM. This option is available only for sample points 8 through 1024. This option is not available for Pipelined Streaming I/O implementation.</p>
</section>
<section id="phase-factors" class="level5">
<h5>Phase Factors</h5>
<p>Choose between Block RAM and Distributed RAM. This option is available only for sample points 8 till 1024. This option is not available for Pipelined Streaming I/O implementation.</p>
</section>
<section id="number-of-stages-using-block-ram" class="level5">
<h5>Number Of Stages Using Block RAM</h5>
<p>Store data and phase factor in Block RAM and partially in Distributed RAM. This option is available only for the Pipelined Streaming I/O implementation.</p>
</section>
<section id="reorder-buffer" class="level5">
<h5>Reorder Buffer</h5>
<p>Choose between Block RAM and Distributed RAM up to 1024 points transform size.</p>
</section>
<section id="hybrid-memories" class="level5">
<h5>Hybrid Memories</h5>
<p>Click check box to Optimize Block RAM Count Using Hybrid Memories.</p>
</section>
</section>
<section id="optimize-options" class="level4">
<h4>Optimize Options</h4>
<section id="complex-multipliers" class="level5">
<h5>Complex Multipliers</h5>
<p>Choose one of the following.</p>
<ul>
<li>Use CLB logic</li>
<li>Use 3-multiplier structure (resource optimization)</li>
<li>Use 4-multiplier structure (performance optimization)</li>
</ul>
</section>
<section id="butterfly-arithmetic" class="level5">
<h5>Butterfly Arithmetic</h5>
<p>Choose one of the following:</p>
<ul>
<li>Use CLB logic</li>
<li>Use XTremeDSP Slices</li>
</ul>
<p>Other parameters used by this block are explained in the topic <a href="matlab:helpview(vmcHelp(&#39;name&#39;,&#39;common-options&#39;,&#39;category&#39;,&#39;GEN&#39;))">Common Options in Block Parameter Dialog Boxes</a>.</p>
</section>
</section>
</section>
</section>
<section id="block-timing" class="level2">
<h2>Block Timing</h2>
<p>To better understand the FFT blocks control behavior and timing, please consult the core data sheet.</p>
</section>
<section id="examples" class="level2">
<h2>Examples</h2>
<p><em><strong>Click on the images below to open each model.</strong></em></p>
<p><a href="https://github.com/Xilinx/Vitis_Model_Composer/tree/2024.2/Examples/Block_Help/HDL/Simple_DualPortRAM_Ex1"><img src="./Images/FastFourierTransform_Ex1.png" /></a></p>
</section>
<section id="logicore-documentation" class="level2">
<h2>LogiCORE Documentation</h2>
<p>Fast Fourier Transform LogiCORE IP Product Guide (<a href="https://docs.xilinx.com/access/sources/framemaker/map?isLatest=true&amp;ft:locale=en-US&amp;url=pg109-xfft">PG109</a>)</p>
<p>Floating-Point Operator LogiCORE IP Product Guide (<a href="https://docs.xilinx.com/access/sources/ud/document?isLatest=true&amp;url=pg060-floating-point&amp;ft:locale=en-US">PG060</a>)</p>
<hr />
<p>Copyright (C) 2024 Advanced Micro Devices, Inc. All rights reserved.</p>
<p>SPDX-License-Identifier: MIT</p>
</section>
</section>
</body>
</html>
